# top‐level block for env interpolation
{
  # disable automatic HTTPS if you don’t have a domain
  auto_https off
  env PORT BACKEND_URL
}

# listen on the port Railway gives you
:{PORT}

# serve the static files
root * /srv/site
file_server

# SPA fallback for client‐side routing
try_files {path} /index.html

# proxy /api/* requests to your backend
handle_path /api/* {
  reverse_proxy {BACKEND_URL}
}